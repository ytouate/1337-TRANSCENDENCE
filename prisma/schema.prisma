// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id Int @id @default(autoincrement())
  username String @unique
  createAd DateTime @default(now())
  updatedAt DateTime @updatedAt

  firstName String?
  lastName String?
  
  email String @unique
  hash String
  games Game[] @relation("GameUsers")
  @@map("users")

  lobbyId   Int?
  lobby     Lobby?   @relation(fields: [lobbyId], references: [id])
}


model Game {
  id Int @id @default(autoincrement())
  status GameStatus @default(OUTGOING)
  players   User[] @relation("GameUsers")

  @@map("games")
}

model Lobby {
  id Int @id @default(autoincrement())
  name String @unique
  players   User[]
  }

enum GameStatus {
  FINISHED
  OUTGOING
}

// model History {
//   id Int @id @default(autoincrement())
//   date DateTime
//   duration Int 
//   // player1 User;
//   // player2 User;
//   scoreP1 Int
//   scoreP2 Int
// }